<!doctype html>
<html lang="en">


<!-- Mirrored from freshcart-tailwind.codescandy.com/shop-grid-3-column.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 26 Dec 2024 13:19:04 GMT -->
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link href="assets/libs/nouislider/dist/nouislider.min.css" rel="stylesheet" />
	<link href="assets/libs/tiny-slider/dist/tiny-slider.css" rel="stylesheet" />
	<link rel="shortcut icon" type="image/x-icon" href="assets/images/favicon/favicon.ico" />

<!-- Libs CSS -->
<link rel="preconnect" href="https://fonts.googleapis.com/" />
<link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap" />
<link rel="stylesheet" href="../cdn.jsdelivr.net/npm/%40tabler/icons-webfont%402.46.0/tabler-icons.min.css" />
<link rel="stylesheet" href="assets/libs/simplebar/dist/simplebar.min.css" />

<!-- Theme CSS -->
<link rel="stylesheet" href="/styles/theme.min.css">
 <!-- Analytics Code -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M8S4MT3EYG"></script>

<style>
	    .filter-box {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 250px;
        }
        input {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            text-align: center;
            font-size: 14px;
        }
    
        .error {
            color: red;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

		:root {
  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  background-color: #ffffff;
  color: #213547;
}




.no-products {
  background-color: #ffffff;
  padding: 3rem;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  max-width: 500px;
  margin: 0 auto;
}

.noProducticon {
  font-size: 4rem;
  margin-bottom: 1rem;
}

h1 {
  color: #1a1a1a;
  font-size: 2rem;
  margin-bottom: 1rem;
}

p {
  color: #666;
  font-size: 1.1rem;
  margin: 0;
}	
    </style>
	

	<title>Shop Grid 3 Column - TailwindCSS eCommerce HTML Template - FreshCart</title>
</head>

<body>
	<header>
	<!-- navbar -->
	<%-include('../partials/header')%>
</header>
<!-- Modal -->
<div class="modal fade" id="userModal" tabindex="-1" aria-labelledby="userModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content p-8">
			<div class="flex justify-between items-center mb-4">
				<h3 class="font-bold text-gray-800" id="userModalLabel">Sign Up</h3>

				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
					<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x text-gray-700" width="24"
						height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
						stroke-linejoin="round">
						<path stroke="none" d="M0 0h24v24H0z" fill="none" />
						<path d="M18 6l-12 12" />
						<path d="M6 6l12 12" />
					</svg>
				</button>
			</div>
			<div class="modal-body">
				<form class="needs-validation" novalidate>
					<div class="mb-3">
						<label for="fullName" class="mb-2 block text-gray-800">Name</label>
						<input type="text"
							class="form-control border border-gray-300 text-gray-900 rounded-lg focus:shadow-[0_0_0_.25rem_rgba(10,173,10,.25)] focus:ring-green-600 focus:ring-0 focus:border-green-600 block p-2 px-3 disabled:opacity-50 disabled:pointer-events-none w-full text-base"
							id="fullName" placeholder="Enter Your Name" required />
						<div class="invalid-feedback">Please enter name.</div>
					</div>
					<div class="mb-3">
						<label for="email" class="mb-2 block text-gray-800">Email address</label>
						<input type="email"
							class="form-control border border-gray-300 text-gray-900 rounded-lg focus:shadow-[0_0_0_.25rem_rgba(10,173,10,.25)] focus:ring-green-600 focus:ring-0 focus:border-green-600 block p-2 px-3 disabled:opacity-50 disabled:pointer-events-none w-full text-base"
							id="email" placeholder="Enter Email address" autocomplete="email" required />
						<div class="invalid-feedback">Please enter email.</div>
					</div>
					<div class="mb-5">
						<label for="password" class="mb-2 block text-gray-800">Password</label>
						<input type="password"
							class="form-control border border-gray-300 text-gray-900 rounded-lg focus:shadow-[0_0_0_.25rem_rgba(10,173,10,.25)] focus:ring-green-600 focus:ring-0 focus:border-green-600 block p-2 px-3 disabled:opacity-50 disabled:pointer-events-none w-full text-base"
							id="password" placeholder="Enter Password" required />
						<div class="invalid-feedback">Please enter password.</div>
						<span class="block mt-1 text-sm text-gray-500">
							By Signup, you agree to our
							<a href="#!" class="text-green-600">Terms of Service</a>
							&
							<a href="#!" class="text-green-600">Privacy Policy</a>
						</span>
					</div>

					<button type="submit"
						class="btn inline-flex items-center gap-x-2 bg-green-600 text-white border-green-600 disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-green-700 hover:border-green-700 active:bg-green-700 active:border-green-700 focus:outline-none focus:ring-4 focus:ring-green-300 justify-center">
						Sign Up
					</button>
				</form>
			</div>
			<div class="modal-footer flex border-0 justify-center mt-3">
				Already have an account?
				<a href="#" class="text-green-600 ml-1">Sign in</a>
			</div>
		</div>
	</div>
</div>

<!-- Shop Cart -->

<div class="offcanvas offcanvas-right" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
	<div class="offcanvas-header border-b">
		<div>
			<h5 id="offcanvasRightLabel">Shop Cart</h5>
			<span>Location in 382480</span>
		</div>
		<button type="button" class="btn-close text-inherit" data-bs-dismiss="offcanvas" aria-label="Close">
			<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x text-gray-700" width="24"
				height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
				stroke-linejoin="round">
				<path stroke="none" d="M0 0h24v24H0z" fill="none" />
				<path d="M18 6l-12 12" />
				<path d="M6 6l12 12" />
			</svg>
		</button>
	</div>
	
</div>

<!-- Modal -->
<div class="modal fade" id="locationModal" tabindex="-1" aria-labelledby="locationModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-body p-6">
				<div class="flex justify-between items-start">
					<div>
						<h5 class="mb-1" id="locationModalLabel">Choose your Delivery Location</h5>
						<p class="text-sm">Enter your address and we will specify the offer you area.</p>
					</div>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
						<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x text-gray-700" width="24"
							height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
							stroke-linejoin="round">
							<path stroke="none" d="M0 0h24v24H0z" fill="none" />
							<path d="M18 6l-12 12" />
							<path d="M6 6l12 12" />
						</svg>
					</button>
				</div>
				<div class="my-5">
					<label for="searhNavbarSecond" class="invisible hidden">Search</label>
					<input
						class="border border-gray-300 text-gray-900 rounded-lg focus:shadow-[0_0_0_.25rem_rgba(10,173,10,.25)] focus:ring-green-600 focus:ring-0 focus:border-green-600 block p-2 px-3 disabled:opacity-50 disabled:pointer-events-none w-full text-base"
						type="search" placeholder="Search for products" id="searhNavbarSecond" />
				</div>
				<div class="flex justify-between items-center mb-2">
					<h6>Select Location</h6>
					<a href="#" class="btn btn-outline-gray-400 text-gray-500 btn-sm">Clear All</a>
				</div>
				<div>
					<div data-simplebar style="height: 300px">
						<div class="list-none">
							<a href="#"
								class="border-b hover:bg-gray-100 flex justify-between items-center px-2 py-3 active active:bg-gray-100 bg-gray-100">
								<span>Alabama</span>
								<span>Min:$20</span>
							</a>
							<a href="#" class="border-b hover:bg-gray-100 flex justify-between items-center px-2 py-3">
								<span>Alaska</span>
								<span>Min:$30</span>
							</a>
							<a href="#" class="border-b hover:bg-gray-100 flex justify-between items-center px-2 py-3">
								<span>Arizona</span>
								<span>Min:$50</span>
							</a>
							<a href="#" class="border-b hover:bg-gray-100 flex justify-between items-center px-2 py-3">
								<span>California</span>
								<span>Min:$29</span>
							</a>
							<a href="#" class="border-b hover:bg-gray-100 flex justify-between items-center px-2 py-3">
								<span>Colorado</span>
								<span>Min:$80</span>
							</a>
							<a href="#" class="border-b hover:bg-gray-100 flex justify-between items-center px-2 py-3">
								<span>Florida</span>
								<span>Min:$90</span>
							</a>
							<a href="#" class="border-b hover:bg-gray-100 flex justify-between items-center px-2 py-3">
								<span>Arizona</span>
								<span>Min:$50</span>
							</a>
							<a href="#" class="border-b hover:bg-gray-100 flex justify-between items-center px-2 py-3">
								<span>California</span>
								<span>Min:$29</span>
							</a>
							<a href="#" class="border-b hover:bg-gray-100 flex justify-between items-center px-2 py-3">
								<span>Colorado</span>
								<span>Min:$80</span>
							</a>
							<a href="#" class="border-b hover:bg-gray-100 flex justify-between items-center px-2 py-3">
								<span>Florida</span>
								<span>Min:$90</span>
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
	<main>
		<div class="mt-4">
			<div class="container">
				<div class="flex flex-wrap">
					<div class="w-full">
						<!-- breadcrumb -->
						<nav aria-label="breadcrumb">
							<ol class="flex flex-wrap">
								<li class="inline-block text-green-600 mr-2">
									<a href="#!">
										Home
										<svg xmlns="http://www.w3.org/2000/svg"
											class="icon icon-tabler icon-tabler-chevron-right inline-block" width="14"
											height="14" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
											fill="none" stroke-linecap="round" stroke-linejoin="round">
											<path stroke="none" d="M0 0h24v24H0z" fill="none" />
											<path d="M9 6l6 6l-6 6" />
										</svg>
									</a>
								</li>
								<li class="inline-block text-green-600 mr-2">
									<a href="#!">
										Shop

										<svg xmlns="http://www.w3.org/2000/svg"
											class="icon icon-tabler icon-tabler-chevron-right inline-block" width="14"
											height="14" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
											fill="none" stroke-linecap="round" stroke-linejoin="round">
											<path stroke="none" d="M0 0h24v24H0z" fill="none" />
											<path d="M9 6l6 6l-6 6" />
										</svg>
									</a>
								</li>
								<li class="inline-block text-gray-500 active" aria-current="page"><%= categoryFilterName.categoryName%></li>
							</ol>
						</nav>
					</div>
				</div>
			</div>
		</div>
		<div class="my-10">
			<div class="container">
				<div class="flex lg:gap-8">
					<aside class="lg:w-1/4 mb-6 md:">
						<div class="offcanvas offcanvas-left offcanvas-collapse" tabindex="-1" id="offcanvasCategory"
							aria-labelledby="offcanvasCategoryLabel">
							<div class="lg:invisible lg:hidden flex items-center p-4 justify-between">
								<h5 class="offcanvas-title" id="offcanvasCategoryLabel">Filter</h5>
								<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close">
									<svg xmlns="http://www.w3.org/2000/svg"
										class="icon icon-tabler icon-tabler-x text-gray-700" width="24" height="24"
										viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
										stroke-linecap="round" stroke-linejoin="round">
										<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
										<path d="M18 6l-12 12"></path>
										<path d="M6 6l12 12"></path>
									</svg>
								</button>
							</div>
							<div class="offcanvas-body flex flex-col gap-8">
								<div class="flex flex-col gap-3">
									<!-- title -->
									<h5>Categories</h5>
									<!-- nav -->
									
									<ul class="flex flex-wrap nav-category" >
										<% category.forEach(category => { %>
											<li class="border-b w-full">
												<a href="/shop?category= <%= category._id %>"
													class="flex justify-between py-2 collapsed items-center text-gray-800 hover:text-green-600"
													aria-expanded="false" aria-controls="categoryFlushOne">
													<%= category.categoryName %>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-chevron-right inline-block"
														width="14" height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path d="M9 6l6 6l-6 6" />
													</svg>
												</a>
											</li>
										  
											<% }) %>

									</ul>
								</div>

								
								<div class="flex flex-col gap-3">
									
    <div class="filter-box">
        <h3>Filter Price</h3>
        <input type="number" id="minPrice" placeholder="Min Price">
        <input type="number" id="maxPrice" placeholder="Max Price">
        <button onclick="validatePrices()">Search</button>
        <p class="error" id="errorMessage"></p>
    </div>


									
								</div>
								<!-- rating -->
								<div class="flex flex-col gap-3">
									<h5>Rating</h5>
									<div class="flex flex-col gap-3">
										<!-- form check -->
										<div class="relative flex items-center gap-2">
											<!-- input -->
											<input
												class="w-4 h-4 text-green-600 bg-white border-gray-300 rounded focus:ring-green-600 focus:outline-none focus:ring-2"
												type="checkbox" value="5" name="rating" id="ratingFive" />
											<label class="text-gray-800" for="ratingFive">
												<small class="text-yellow-500 flex items-center">
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
												</small>
											</label>
										</div>
										<!-- form check -->
										<div class="relative flex items-center gap-2">
											<!-- input -->
											<input
												class="w-4 h-4 text-green-600 bg-white border-gray-300 rounded focus:ring-green-600 focus:outline-none focus:ring-2"
												type="checkbox" name="rating" value="4" id="ratingFour" checked />
											<label class="text-gray-800" for="ratingFour">
												<small class="text-yellow-500 flex items-center">
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star" width="14" height="14"
														viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
														fill="none" stroke-linecap="round" stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" />
													</svg>
												</small>
											</label>
										</div>
										<!-- form check -->
										<div class="relative flex items-center gap-2">
											<!-- input -->
											<input
												class="w-4 h-4 text-green-600 bg-white border-gray-300 rounded focus:ring-green-600 focus:outline-none focus:ring-2"
												type="checkbox" name="rating" value="3" id="ratingThree" />
											<label class="text-gray-800" for="ratingThree">
												<small class="text-yellow-500 flex items-center">
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star" width="14" height="14"
														viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
														fill="none" stroke-linecap="round" stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star" width="14" height="14"
														viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
														fill="none" stroke-linecap="round" stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" />
													</svg>
												</small>
											</label>
										</div>
										<!-- form check -->
										<div class="relative flex items-center gap-2">
											<!-- input -->
											<input
												class="w-4 h-4 text-green-600 bg-white border-gray-300 rounded focus:ring-green-600 focus:outline-none focus:ring-2"
												type="checkbox" name="rating" value="2" id="ratingTwo" />
											<label class="text-gray-800" for="ratingTwo">
												<small class="text-yellow-500 flex items-center">
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star" width="14" height="14"
														viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
														fill="none" stroke-linecap="round" stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star" width="14" height="14"
														viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
														fill="none" stroke-linecap="round" stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star" width="14" height="14"
														viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
														fill="none" stroke-linecap="round" stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" />
													</svg>
												</small>
											</label>
										</div>
										<!-- form check -->
										<div class="relative flex items-center gap-2">
											<!-- input -->
											<input
												class="w-4 h-4 text-green-600 bg-white border-gray-300 rounded focus:ring-green-600 focus:outline-none focus:ring-2"
												type="checkbox" name="rating" value="1" id="ratingOne" />
											<label class="text-gray-800" for="ratingOne">
												<small class="text-yellow-500 flex items-center">
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star-filled" width="14"
														height="14" viewBox="0 0 24 24" stroke-width="2"
														stroke="currentColor" fill="none" stroke-linecap="round"
														stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
															stroke-width="0" fill="currentColor" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star" width="14" height="14"
														viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
														fill="none" stroke-linecap="round" stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star" width="14" height="14"
														viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
														fill="none" stroke-linecap="round" stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star" width="14" height="14"
														viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
														fill="none" stroke-linecap="round" stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" />
													</svg>
													<svg xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-star" width="14" height="14"
														viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
														fill="none" stroke-linecap="round" stroke-linejoin="round">
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path
															d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" />
													</svg>
												</small>
											</label>
										</div>
									</div>
								</div>
								
							</div>
						</div>
					</aside>
					<section class="lg:w-3/4 w-full">
						<!-- card -->
						<%if(categoryFilterName.categoryName){%>
							<div class="relative flex flex-col min-w-0 rounded-lg break-words bg-gray-100 p-8 mb-6">
								<!-- card body -->
								<div class="flex-auto">
									<h1 class="text-xl"><%= categoryFilterName.categoryName%></h1>
								</div>
							</div>
							<%}%>
						
						<!-- list icon -->
						<div class="flex flex-col md:flex-row justify-between lg:items-center mb-6 gap-3">
							<div>
								<p>
									<span class="text-gray-900"><%= products.length%></span>
									Products found
								</p>
							</div>

							<!-- icon -->
						
						</div>

						<%if(products.length==0){%>
							<div class="no-products">
								<div class="noProducticon">ðŸ“¦</div>
								<h1>No Products Found</h1>
								<p>It seems there are no products available in the database at the moment.</p>
							  </div>
							<%}%>
						
						<div class="grid lg:grid-cols-3 md:grid-cols-3 gap-4 product-parent">
							<% products.forEach(product => { %>
								
								  <div class="relative rounded-lg break-words border bg-white border-gray-300 card-product">

									<div class="flex-auto p-4">
										<div class="text-center relative flex justify-center">
											<div class="absolute top-0 left-0">
												<span
													class="inline-block p-1 text-center font-semibold text-sm align-baseline leading-none rounded bg-red-600 text-white">Sale</span>
											</div>
											<a href="/shop/productDetail/<%= product._id%>"><img src="<%= product.productPic.productImage1 %>"
													alt="Grocery Ecommerce Template" class="w-full h-auto" /></a>
	
											
										</div>
										<div class="flex flex-col gap-3">
											<a href="#!" class="text-decoration-none text-gray-500"><small><%= product.categoryName %></small></a>
											<div class="flex flex-col gap-2">
												<h3 class="text-base truncate"><a href="/shop/productDetail/<%= product._id%>"><%= product.productName %></a></h3>
												<div class="flex items-center">
													<div class="flex flex-row gap-3">
														<small class="text-yellow-500 flex items-center">
															<% 
																let fullStars = Math.floor(product.avgRating); 
																let halfStar = product.avgRating % 1 >= 0.5 ? "â˜…" : ""; 
																let emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
															%>
															<%= "â˜…".repeat(fullStars) + halfStar + "â˜†".repeat(emptyStars) %>
														</small>
														<div class="flex flex-row gap-1">
															<span class="text-gray-500 text-sm"><%=product.avgRating%></span>
															<span class="text-gray-500 text-sm">(<%=product.totalRating%>)</span>
														</div>
													</div>
												</div>
											</div>
											<div class="flex justify-between items-center">
												<div>
													<% if (product.variety !== "items") { %>
														<% 
															let price = Object.values(product.productPrice).find(price => price !== null) || 0;
															let variety = product.varietyDetails[0] || {};
															let basePrice = variety.varietyMeasurement * price;
															let discountPrice = variety.varietyDiscount ? basePrice - (basePrice * variety.varietyDiscount / 100) : basePrice;
														%>
													
														<span class="text-gray-900 font-semibold">$<%= discountPrice.toFixed(1)%></span>
													
														<% if (discountPrice !== basePrice) { %>
															<span class="line-through text-gray-500">$<%= basePrice%></span>
														<% } %>
													
													
														
														
														<% } else { %>
															<% 
																let variety = product.varietyDetails[0] || {};
																let originalPrice = variety.varietyPrice || 0;
																let discountedPrice = variety.varietyDiscount ? originalPrice - (originalPrice * variety.varietyDiscount / 100) : originalPrice;
															%>
														
															<span class="text-gray-900 font-semibold">$<%= Number(discountedPrice)?.toFixed(1) %></span>
														
															<% if (discountedPrice !== originalPrice) { %>
																<span class="line-through text-gray-500">$<%= originalPrice %></span>
															<% } %>
														<% } %>
													
												</div>
												<div>
													<button type="button"
														class="btn inline-flex items-center gap-x-1 bg-green-600 text-white border-green-600 disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-green-700 hover:border-green-700 active:bg-green-700 active:border-green-700 focus:outline-none focus:ring-4 focus:ring-green-300 btn-sm">
														<svg xmlns="http://www.w3.org/2000/svg"
															class="icon icon-tabler icon-tabler-plus" width="14" height="14"
															viewBox="0 0 24 24" stroke-width="3" stroke="currentColor"
															fill="none" stroke-linecap="round" stroke-linejoin="round">
															<path stroke="none" d="M0 0h24v24H0z" fill="none" />
															<path d="M12 5l0 14" />
															<path d="M5 12l14 0" />
														</svg>
														<span>Add</span>
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>
						
							<% }) %>
							
							
							
						
					</section>
				</div>
			</div>
		</div>
	</main>
	<!-- footer -->
<footer class="bg-gray-200 py-8">
	<div class="container">
		<div class="flex flex-wrap md:gap-4 lg:gap-0 py-4 mb-6">
			<div class="w-full md:w-full lg:w-1/3 flex flex-col gap-4 mb-6">
				<h6>Categories</h6>
				<div class="flex flex-wrap">
					<div class="w-1/2">
						<!-- list -->
						<ul class="flex flex-col gap-2">
							<li><a href="#!" class="inline-block hover:text-green-600">Vegetables & Fruits</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Breakfast & instant food</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Bakery & Biscuits</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Atta, rice & dal</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Sauces & spreads</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Organic & gourmet</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Baby care</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Cleaning essentials</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Personal care</a></li>
						</ul>
					</div>
					<div class="w-1/2">
						<!-- list -->
						<ul class="flex flex-col gap-2">
							<li><a href="#!" class="inline-block hover:text-green-600">Dairy, bread & eggs</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Cold drinks & juices</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Tea, coffee & drinks</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Masala, oil & more</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Chicken, meat & fish</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Paan corner</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Pharma & wellness</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Home & office</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Pet care</a></li>
						</ul>
					</div>
				</div>
			</div>
			<div class="w-full md:w-full lg:w-2/3">
				<div class="flex flex-wrap">
					<div class="w-1/2 sm:w-1/2 md:w-1/4 flex flex-col gap-4 mb-6">
						<h6>Get to know us</h6>
						<!-- list -->
						<ul class="flex flex-col gap-2">
							<li><a href="#!" class="inline-block hover:text-green-600">Company</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">About</a></li>
							<li><a href="#!" class="inline-block">Blog</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Help Center</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Our Value</a></li>
						</ul>
					</div>
					<div class="w-1/2 sm:w-1/2 md:w-1/4 flex flex-col gap-4 mb-6">
						<h6>For Consumers</h6>
						<ul class="flex flex-col gap-2">
							<!-- list -->
							<li><a href="#!" class="inline-block hover:text-green-600">Payments</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Shipping</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Product Returns</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">FAQ</a></li>
							<li><a href="shop-checkout.html" class="inline-block">Shop Checkout</a></li>
						</ul>
					</div>
					<div class="w-1/2 sm:w-1/2 md:w-1/4 flex flex-col gap-4">
						<h6>Become a Shopper</h6>
						<ul class="flex flex-col gap-2">
							<!-- list -->
							<li><a href="#!" class="inline-block hover:text-green-600">Shopper Opportunities</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Become a Shopper</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Earnings</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Ideas & Guides</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">New Retailers</a></li>
						</ul>
					</div>
					<div class="w-1/2 sm:w-1/2 md:w-1/4 flex flex-col gap-4">
						<h6>Freshcart programs</h6>
						<ul class="flex flex-col gap-2">
							<!-- list -->
							<li><a href="#!" class="inline-block hover:text-green-600">Freshcart programs</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Gift Cards</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Promos & Coupons</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Freshcart Ads</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Careers</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<div class="border-t py-4 border-gray-300">
			<div class="gap-y-4 flex flex-wrap items-center justify-center lg:justify-start">
				<div class="lg:w-2/5 lg:text-left text-center">
					<div class="flex md:flex-row flex-col gap-3 md:gap-6 items-center">
						<div class="text-gray-900">Payment Partners</div>
						<ul class="flex items-center flex-row gap-4">
							<li>
								<a href="#!"><img src="assets/images/payment/amazonpay.svg" alt="amazon pay" /></a>
							</li>
							<li>
								<a href="#!"><img src="assets/images/payment/american-express.svg" alt="american express" /></a>
							</li>
							<li>
								<a href="#!"><img src="assets/images/payment/mastercard.svg" alt="mastercard" /></a>
							</li>
							<li>
								<a href="#!"><img src="assets/images/payment/paypal.svg" alt="paypal" /></a>
							</li>
							<li>
								<a href="#!"><img src="assets/images/payment/visa.svg" alt="visa" /></a>
							</li>
						</ul>
					</div>
				</div>
				<div class="lg:w-3/5 flex justify-end">
					<div class="flex flex-col md:flex-row items-center gap-3 md:gap-6">
						<div class="text-gray-900">Get deliveries with FreshCart</div>
						<ul class="flex flex-row gap-2">
							<li>
								<a href="#!"><img src="assets/images/appbutton/appstore-btn.svg" alt="" style="width: 140px" /></a>
							</li>
							<li>
								<a href="#!"><img src="assets/images/appbutton/googleplay-btn.svg" alt="" style="width: 140px" /></a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<div class="border-t py-4 border-gray-300">
			<div class="flex flex-col md:flex-row items-center gap-3">
				<div class="md:w-1/2">
					<span class="text-sm text-gray-500">
						Â©
						<span id="copyright">
							<script>
								document.getElementById('copyright').appendChild(document.createTextNode(new Date().getFullYear()));
							</script>
						</span>
						FreshCart TailwindCSS eCommerce HTML Template. Powered by
						<a href="https://codescandy.com/" target="_blank" class="text-green-600">Codescandy</a>
						.
					</span>
				</div>
				<div class="md:w-1/2 flex md:justify-end items-center">
					<div class="flex flex-row gap-5 items-center">
						<div class="text-gray-500">Follow us on</div>
						<ul class="flex items-center justify-end text-sm gap-1">
							<li>
								<a
									href="#!"
									class="inline-flex justify-center items-center align-middle text-center select-none border font-normal whitespace-no-wrap rounded leading-normal no-underline h-8 w-8 border-gray-300 hover:border-green-600 hover:text-green-600 transition ease-in-out"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="icon icon-tabler icon-tabler-brand-facebook"
										width="16"
										height="16"
										viewBox="0 0 24 24"
										stroke-width="1.5"
										stroke="currentColor"
										fill="none"
										stroke-linecap="round"
										stroke-linejoin="round"
									>
										<path stroke="none" d="M0 0h24v24H0z" fill="none" />
										<path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" />
									</svg>
								</a>
							</li>
							<li>
								<a
									href="#!"
									class="inline-flex justify-center items-center align-middle text-center select-none border font-normal whitespace-no-wrap rounded leading-normal no-underline h-8 w-8 border-gray-300 hover:border-green-600 hover:text-green-600 transition ease-in-out"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="icon icon-tabler icon-tabler-brand-x"
										width="16"
										height="16"
										viewBox="0 0 24 24"
										stroke-width="1.5"
										stroke="currentColor"
										fill="none"
										stroke-linecap="round"
										stroke-linejoin="round"
									>
										<path stroke="none" d="M0 0h24v24H0z" fill="none" />
										<path d="M4 4l11.733 16h4.267l-11.733 -16z" />
										<path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" />
									</svg>
								</a>
							</li>
							<li>
								<a
									href="#!"
									class="inline-flex justify-center items-center align-middle text-center select-none border font-normal whitespace-no-wrap rounded leading-normal no-underline h-8 w-8 border-gray-300 hover:border-green-600 hover:text-green-600 transition ease-in-out"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="icon icon-tabler icon-tabler-brand-instagram"
										width="16"
										height="16"
										viewBox="0 0 24 24"
										stroke-width="1.5"
										stroke="currentColor"
										fill="none"
										stroke-linecap="round"
										stroke-linejoin="round"
									>
										<path stroke="none" d="M0 0h24v24H0z" fill="none" />
										<path d="M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z" />
										<path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
										<path d="M16.5 7.5l0 .01" />
									</svg>
								</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</footer>
<!-- buy now template button
Remove if you do not want.
-->

 <!-- Modal -->
<div class="modal fade" id="quickViewModal" tabindex="-1" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered lg:min-w-[1140px]">
		<div class="modal-content">
			<div class="modal-body p-8">
				<div class="absolute top-0 right-0 p-3">
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							class="icon icon-tabler icon-tabler-x text-gray-700"
							width="24"
							height="24"
							viewBox="0 0 24 24"
							stroke-width="2"
							stroke="currentColor"
							fill="none"
							stroke-linecap="round"
							stroke-linejoin="round"
						>
							<path stroke="none" d="M0 0h24v24H0z" fill="none" />
							<path d="M18 6l-12 12" />
							<path d="M6 6l12 12" />
						</svg>
					</button>
				</div>
				<div class="flex flex-wrap">
					<div class="md:w-1/2">
						<!-- img slide -->
						<div class="product productModal" id="productModal">
							<div class="zoom" onmousemove="zoom(event)" style="background-image: url(assets/images/products/product-single-img-1.jpg)">
								<!-- img -->
								<!-- img -->
								<img src="assets/images/products/product-single-img-1.jpg" alt="" />
							</div>
							<div>
								<div class="zoom" onmousemove="zoom(event)" style="background-image: url(assets/images/products/product-single-img-2.jpg)">
									<!-- img -->
									<img src="assets/images/products/product-single-img-2.jpg" alt="" />
								</div>
							</div>
							<div>
								<div class="zoom" onmousemove="zoom(event)" style="background-image: url(assets/images/products/product-single-img-3.jpg)">
									<!-- img -->
									<img src="assets/images/products/product-single-img-3.jpg" alt="" />
								</div>
							</div>
							<div>
								<div class="zoom" onmousemove="zoom(event)" style="background-image: url(assets/images/products/product-single-img-4.jpg)">
									<!-- img -->
									<img src="assets/images/products/product-single-img-4.jpg" alt="" />
								</div>
							</div>
						</div>
						<!-- product tools -->
						<div class="product-tools">
							<div class="thumbnails flex gap-3" id="productModalThumbnails">
								<div class="w-1/4">
									<div class="thumbnails-img">
										<!-- img -->
										<img src="assets/images/products/product-single-img-1.jpg" alt="" />
									</div>
								</div>
								<div class="w-1/4">
									<div class="thumbnails-img">
										<!-- img -->
										<img src="assets/images/products/product-single-img-2.jpg" alt="" />
									</div>
								</div>
								<div class="w-1/4">
									<div class="thumbnails-img">
										<!-- img -->
										<img src="assets/images/products/product-single-img-3.jpg" alt="" />
									</div>
								</div>
								<div class="w-1/4">
									<div class="thumbnails-img">
										<!-- img -->
										<img src="assets/images/products/product-single-img-4.jpg" alt="" />
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="md:w-1/2 pr-4 pl-4">
						<div class="lg:pl-10 mt-6 md:mt-0">
							<div class="flex flex-col gap-4">
								<!-- content -->
								<a href="#!" class="block text-green-600">Bakery Biscuits</a>
								<!-- heading -->
								<h1>Napolitanke Ljesnjak</h1>
								<div class="flex flex-col gap-2">
									<div class="flex items-center">
										<!-- rating -->
										<!-- rating -->
										<small class="text-yellow-500 inline-flex items-center">
											<svg
												xmlns="http://www.w3.org/2000/svg"
												class="icon icon-tabler icon-tabler-star-filled"
												width="14"
												height="14"
												viewBox="0 0 24 24"
												stroke-width="2"
												stroke="currentColor"
												fill="none"
												stroke-linecap="round"
												stroke-linejoin="round"
											>
												<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
												<path
													d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
													stroke-width="0"
													fill="currentColor"
												></path>
											</svg>
											<svg
												xmlns="http://www.w3.org/2000/svg"
												class="icon icon-tabler icon-tabler-star-filled"
												width="14"
												height="14"
												viewBox="0 0 24 24"
												stroke-width="2"
												stroke="currentColor"
												fill="none"
												stroke-linecap="round"
												stroke-linejoin="round"
											>
												<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
												<path
													d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
													stroke-width="0"
													fill="currentColor"
												></path>
											</svg>
											<svg
												xmlns="http://www.w3.org/2000/svg"
												class="icon icon-tabler icon-tabler-star-filled"
												width="14"
												height="14"
												viewBox="0 0 24 24"
												stroke-width="2"
												stroke="currentColor"
												fill="none"
												stroke-linecap="round"
												stroke-linejoin="round"
											>
												<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
												<path
													d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
													stroke-width="0"
													fill="currentColor"
												></path>
											</svg>
											<svg
												xmlns="http://www.w3.org/2000/svg"
												class="icon icon-tabler icon-tabler-star-filled"
												width="14"
												height="14"
												viewBox="0 0 24 24"
												stroke-width="2"
												stroke="currentColor"
												fill="none"
												stroke-linecap="round"
												stroke-linejoin="round"
											>
												<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
												<path
													d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
													stroke-width="0"
													fill="currentColor"
												></path>
											</svg>
											<svg
												xmlns="http://www.w3.org/2000/svg"
												class="icon icon-tabler icon-tabler-star-filled"
												width="14"
												height="14"
												viewBox="0 0 24 24"
												stroke-width="2"
												stroke="currentColor"
												fill="none"
												stroke-linecap="round"
												stroke-linejoin="round"
											>
												<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
												<path
													d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
													stroke-width="0"
													fill="currentColor"
												></path>
											</svg>
										</small>
										<a href="#" class="text-green-600">(30 reviews)</a>
									</div>
									<div class="text-md">
										<span class="text-gray-900 font-semibold">$18</span>
										<span class="line-through text-gray-500">$24</span>

										<span><small class="text-red-600">26% Off</small></span>
									</div>
								</div>
								<!-- hr -->
								<div class="flex flex-col gap-6">
									<hr />
									<div>
										<button
											type="button"
											class="btn inline-flex items-center gap-x-2 bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
										>
											250g
										</button>
										<!-- btn -->
										<button
											type="button"
											class="btn inline-flex items-center gap-x-2 bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
										>
											500g
										</button>
										<!-- btn -->
										<button
											type="button"
											class="btn inline-flex items-center gap-x-2 bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
										>
											1kg
										</button>
									</div>
									<div>
										<!-- input -->
										<div class="w-1/3 md:w-1/4 lg:w-1/5">
											<!-- input -->
											<div class="input-group input-spinner rounded-lg flex justify-between items-center">
												<input type="button" value="-" class="button-minus w-8 py-1 border-r cursor-pointer border-gray-300" data-field="quantity" />
												<input type="number" step="1" max="10" value="1" name="quantity" class="quantity-field w-9 px-2 text-center h-7 border-0 bg-transparent" />
												<input type="button" value="+" class="button-plus w-8 py-1 border-l cursor-pointer border-gray-300" data-field="quantity" />
											</div>
										</div>
									</div>
									<div class="flex flex-wrap justify-start gap-2 items-center">
										<div class="lg:w-1/3 md:w-2/5 w-full grid">
											<!-- button -->
											<!-- btn -->
											<button
												type="button"
												class="btn bg-green-600 text-white border-green-600 disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-green-700 hover:border-green-700 active:bg-green-700 active:border-green-700 focus:outline-none focus:ring-4 focus:ring-green-300 justify-center"
											>
												<svg
													xmlns="http://www.w3.org/2000/svg"
													class="icon icon-tabler icon-tabler-plus mr-2"
													width="12"
													height="12"
													viewBox="0 0 24 24"
													stroke-width="3"
													stroke="currentColor"
													fill="none"
													stroke-linecap="round"
													stroke-linejoin="round"
												>
													<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
													<path d="M12 5l0 14"></path>
													<path d="M5 12l14 0"></path>
												</svg>
												Add to cart
											</button>
										</div>
										<div class="md:w-1/3 w-full">
											<!-- btn -->
											<a
												href="#"
												class="mr-1 btn inline-flex items-center gap-x-2 px-0 h-10 w-10 justify-center bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
											>
												<svg
													xmlns="http://www.w3.org/2000/svg"
													class="icon icon-tabler icon-tabler-arrows-exchange"
													width="20"
													height="20"
													viewBox="0 0 24 24"
													stroke-width="2"
													stroke="currentColor"
													fill="none"
													stroke-linecap="round"
													stroke-linejoin="round"
												>
													<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
													<path d="M7 10h14l-4 -4"></path>
													<path d="M17 14h-14l4 4"></path>
												</svg>
											</a>
											<a
												href="#"
												class="btn inline-flex items-center gap-x-2 px-0 h-10 w-10 justify-center bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
											>
												<svg
													xmlns="http://www.w3.org/2000/svg"
													class="icon icon-tabler icon-tabler-heart"
													width="20"
													height="20"
													viewBox="0 0 24 24"
													stroke-width="2"
													stroke="currentColor"
													fill="none"
													stroke-linecap="round"
													stroke-linejoin="round"
												>
													<path stroke="none" d="M0 0h24v24H0z" fill="none" />
													<path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" />
												</svg>
											</a>
										</div>
									</div>
									<!-- hr -->
									<hr />
								</div>
								<div>
									<!-- table -->
									<table class="text-left w-full">
										<tbody>
											<tr>
												<td class="px-6 py-3">Product Code:</td>
												<td class="px-6 py-3">FBB00255</td>
											</tr>
											<tr>
												<td class="px-6 py-3">Availability:</td>
												<td class="px-6 py-3">In Stock</td>
											</tr>
											<tr>
												<td class="px-6 py-3">Type:</td>
												<td class="px-6 py-3">Fruits</td>
											</tr>
											<tr>
												<td class="px-6 py-3">Shipping:</td>
												<td class="px-6 py-3">
													<small>
														01 day shipping.
														<span class="text-gray-700">( Free pickup today)</span>
													</small>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
								<div>
									<!-- dropdown -->
									<div class="relative">
										<a
											class="dropdown-toggle btn inline-flex items-center gap-x-2 bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
											href="#"
											role="button"
											data-bs-toggle="dropdown"
											aria-expanded="false"
										>
											Share
										</a>

										<ul class="dropdown-menu">
											<li>
												<a class="dropdown-item" href="#">
													<svg
														xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-brand-facebook inline-block"
														width="18"
														height="18"
														viewBox="0 0 24 24"
														stroke-width="2"
														stroke="currentColor"
														fill="none"
														stroke-linecap="round"
														stroke-linejoin="round"
													>
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" />
													</svg>
													Facebook
												</a>
											</li>
											<li>
												<a class="dropdown-item" href="#">
													<svg
														xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-brand-x"
														width="18"
														height="18"
														viewBox="0 0 24 24"
														stroke-width="2"
														stroke="currentColor"
														fill="none"
														stroke-linecap="round"
														stroke-linejoin="round"
													>
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path d="M4 4l11.733 16h4.267l-11.733 -16z" />
														<path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" />
													</svg>
													Twitter
												</a>
											</li>
											<li>
												<a class="dropdown-item" href="#">
													<svg
														xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-brand-instagram"
														width="18"
														height="18"
														viewBox="0 0 24 24"
														stroke-width="2"
														stroke="currentColor"
														fill="none"
														stroke-linecap="round"
														stroke-linejoin="round"
													>
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path d="M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z" />
														<path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
														<path d="M16.5 7.5l0 .01" />
													</svg>
													Instagram
												</a>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

	<script src="assets/libs/nouislider/dist/nouislider.min.js"></script>
	<script src="assets/libs/wnumb/wNumb.min.js"></script>
	<script src="assets/libs/tiny-slider/dist/min/tiny-slider.js"></script>
	<script src="assets/js/vendors/tns-slider.js"></script>
	<script src="assets/js/vendors/language.js"></script>
	<script src="assets/js/vendors/zoom.js"></script>
	<!-- Libs JS -->
<script src="assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="assets/libs/simplebar/dist/simplebar.min.js"></script>

<!-- Theme JS -->

<script src="/js/theme.min.js"></script>

<script>



	function updateStars(avgRating) {
	console.log(avgRating)
    const starsContainer = document.querySelector(".total-stars"); 
    const ratingNumber = document.querySelector(".rating-number");
    
    ratingNumber.textContent = avgRating;

    let roundedRating = Math.round(avgRating * 2) / 2;
    let fullStars = Math.floor(roundedRating); 
    let halfStar = roundedRating % 1 === 0.5 ? "â˜…" : ""; 
    let emptyStars = 5 - fullStars - (halfStar ? 1 : 0);

    return "â˜…".repeat(fullStars) + halfStar + "â˜†".repeat(emptyStars);
}




const checkboxes = document.getElementsByName("rating");
let productParent= document.querySelector(".product-parent")
checkboxes.forEach( checkbox => {
    checkbox.addEventListener("change", function () {
		const minPrice = document.getElementById("minPrice").value.trim();
		const maxPrice = document.getElementById("maxPrice").value.trim();
		const checkedValues = Array.from(document.querySelectorAll("input[name='rating']:checked"))
        .map(checkbox => checkbox.value);
    
	fetch(`/shop/filterProduct/<%=categoryFilterName.categoryName%>`, {
    method: "POST",
    headers: {
        "Content-Type": "application/json",
    },
    body: JSON.stringify({ selectedRating: checkedValues,minPrice,maxPrice }),
   })
  .then(response => response.json())
  .then(data => {
    productParent.innerHTML = ""; // Clear existing content

    if (data.products) {
		console.log(data.products)
        let productsHTML = ""; // Store all products as a single string before adding to DOM

        for (let i = 0; i < data.products.length; i++) {
            let product = data.products[i];

            // Handle ratings calculation
            let fullStars = Math.floor(product.avgRating);
            let halfStar = product.avgRating % 1 >= 0.5 ? "â˜…" : "";
            let emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
            let starsHTML = "â˜…".repeat(fullStars) + halfStar + "â˜†".repeat(emptyStars);

            // Handle pricing logic
            let priceHTML = "";
            if (product.variety !== "items") {
                let price = Object.values(product.productPrice).find(p => p !== null) || 0;
                let variety = product.varietyDetails[0] || {};
                let basePrice = variety.varietyMeasurement * price;
                let discountPrice = variety.varietyDiscount ? basePrice - (basePrice * variety.varietyDiscount / 100) : basePrice;
				console.log(discountPrice)
                priceHTML = `
                    <span class="text-gray-900 font-semibold">$${discountPrice.toFixed(1)}</span>
                    ${discountPrice !== basePrice ? `<span class="line-through text-gray-500">$${basePrice}</span>` : ""}
                `;
            } else {
                let variety = product.varietyDetails[0] || {};
                let originalPrice = variety.varietyPrice || 0;
                let discountedPrice = variety.varietyDiscount ? originalPrice - (originalPrice * variety.varietyDiscount / 100) : originalPrice;
				console.log(discountedPrice)
                priceHTML = `
                    <span class="text-gray-900 font-semibold">$${Number(discountedPrice).toFixed(1)}</span>
                    ${discountedPrice !== originalPrice ? `<span class="line-through text-gray-500">$${originalPrice}</span>` : ""}
                `;
            }

            // Build product card HTML
            productsHTML += `
                <div class="relative rounded-lg break-words border bg-white border-gray-300 card-product">
                    <div class="flex-auto p-4">
                        <div class="text-center relative flex justify-center">
                            <div class="absolute top-0 left-0">
                                <span class="inline-block p-1 text-center font-semibold text-sm align-baseline leading-none rounded bg-red-600 text-white">Sale</span>
                            </div>
                            <a href="/shop/productDetail/${product._id}">
                                <img src="${product.productPic.productImage1}" alt="Product Image" class="w-full h-auto" />
                            </a>
                        </div>
                        <div class="flex flex-col gap-3">
                            <div class="flex flex-col gap-2">
                                <h3 class="text-base truncate">
                                    <a href="/shop/productDetail/${product._id}">${product.productName}</a>
                                </h3>
                                <div class="flex items-center">
                                    <div class="flex flex-row gap-3">
                                        <small class="text-yellow-500 flex items-center">${starsHTML}</small>
                                        <div class="flex flex-row gap-1">
                                            <span class="text-gray-500 text-sm">${product.avgRating}</span>
                                            <span class="text-gray-500 text-sm">(${product.totalRating})</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="flex justify-between items-center">
                                <div>${priceHTML}</div>
                                <div>
                                    <button type="button"
                                        class="btn inline-flex items-center gap-x-1 bg-green-600 text-white border-green-600 disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-green-700 hover:border-green-700 active:bg-green-700 active:border-green-700 focus:outline-none focus:ring-4 focus:ring-green-300 btn-sm">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            class="icon icon-tabler icon-tabler-plus" width="14" height="14"
                                            viewBox="0 0 24 24" stroke-width="3" stroke="currentColor"
                                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                            <path d="M12 5l0 14" />
                                            <path d="M5 12l14 0" />
                                        </svg>
                                        <span>Add</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>`;
        }

        // Append all product cards at once to improve performance
        productParent.innerHTML = productsHTML;
    }
})
  .catch(error => console.error("Error:", error));

    });
});

</script>

<script>
	async function validatePrices() {
		const minPrice = document.getElementById("minPrice").value.trim();
		const maxPrice = document.getElementById("maxPrice").value.trim();
		const errorMessage = document.getElementById("errorMessage");

		errorMessage.style.display = "none";

		const min = parseFloat(minPrice);
		const max = parseFloat(maxPrice);

		if (isNaN(min) || isNaN(max)) {
			showError("Enter valid numbers.");
			return;
		}
		if (min < 0 || max < 0) {
			showError("Prices must be positive.");
			return;
		}
		if (min > max) {
			showError("Min cannot be greater than Max.");
			return;
		}

	
		try {
			let checkedValues = Array.from(document.querySelectorAll("input[name='rating']:checked"))
			console.log(checkedValues[0].value)

			for(let i=0;i<checkedValues.length;i++){
				checkedValues[i]=checkedValues[i].value
			}
			console.log(checkedValues)
			fetch(`/shop/filterProduct/<%=categoryFilterName.categoryName%>`, {
    method: "POST",
    headers: {
        "Content-Type": "application/json",
    },
    body: JSON.stringify({ selectedRating: checkedValues, minPrice,maxPrice}),
   })
  .then(response => response.json())
  .then(data => {
    productParent.innerHTML = ""; // Clear existing content

    if (data.products) {
        let productsHTML = ""; // Store all products as a single string before adding to DOM

        for (let i = 0; i < data.products.length; i++) {
            let product = data.products[i];

            // Handle ratings calculation
            let fullStars = Math.floor(product.avgRating);
            let halfStar = product.avgRating % 1 >= 0.5 ? "â˜…" : "";
            let emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
            let starsHTML = "â˜…".repeat(fullStars) + halfStar + "â˜†".repeat(emptyStars);

            // Handle pricing logic
            let priceHTML = "";
            if (product.variety !== "items") {
                let price = Object.values(product.productPrice).find(p => p !== null) || 0;
                let variety = product.varietyDetails[0] || {};
                let basePrice = variety.varietyMeasurement * price;
                let discountPrice = variety.varietyDiscount ? basePrice - (basePrice * variety.varietyDiscount / 100) : basePrice;
				console.log(discountPrice)
                priceHTML = `
                    <span class="text-gray-900 font-semibold">$${discountPrice.toFixed(1)}</span>
                    ${discountPrice !== basePrice ? `<span class="line-through text-gray-500">$${basePrice}</span>` : ""}
                `;
            } else {
                let variety = product.varietyDetails[0] || {};
                let originalPrice = variety.varietyPrice || 0;
                let discountedPrice = variety.varietyDiscount ? originalPrice - (originalPrice * variety.varietyDiscount / 100) : originalPrice;
				console.log(discountedPrice)
                priceHTML = `
                    <span class="text-gray-900 font-semibold">$${Number(discountedPrice).toFixed(1)}</span>
                    ${discountedPrice !== originalPrice ? `<span class="line-through text-gray-500">$${originalPrice}</span>` : ""}
                `;
            }

            // Build product card HTML
            productsHTML += `
                <div class="relative rounded-lg break-words border bg-white border-gray-300 card-product">
                    <div class="flex-auto p-4">
                        <div class="text-center relative flex justify-center">
                            <div class="absolute top-0 left-0">
                                <span class="inline-block p-1 text-center font-semibold text-sm align-baseline leading-none rounded bg-red-600 text-white">Sale</span>
                            </div>
                            <a href="/shop/productDetail/${product._id}">
                                <img src="${product.productPic.productImage1}" alt="Product Image" class="w-full h-auto" />
                            </a>
                        </div>
                        <div class="flex flex-col gap-3">
                            <div class="flex flex-col gap-2">
                                <h3 class="text-base truncate">
                                    <a href="/shop/productDetail/${product._id}">${product.productName}</a>
                                </h3>
                                <div class="flex items-center">
                                    <div class="flex flex-row gap-3">
                                        <small class="text-yellow-500 flex items-center">${starsHTML}</small>
                                        <div class="flex flex-row gap-1">
                                            <span class="text-gray-500 text-sm">${product.avgRating}</span>
                                            <span class="text-gray-500 text-sm">(${product.totalRating})</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="flex justify-between items-center">
                                <div>${priceHTML}</div>
                                <div>
                                    <button type="button"
                                        class="btn inline-flex items-center gap-x-1 bg-green-600 text-white border-green-600 disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-green-700 hover:border-green-700 active:bg-green-700 active:border-green-700 focus:outline-none focus:ring-4 focus:ring-green-300 btn-sm">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            class="icon icon-tabler icon-tabler-plus" width="14" height="14"
                                            viewBox="0 0 24 24" stroke-width="3" stroke="currentColor"
                                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                            <path d="M12 5l0 14" />
                                            <path d="M5 12l14 0" />
                                        </svg>
                                        <span>Add</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>`;
        }

        // Append all product cards at once to improve performance
        productParent.innerHTML = productsHTML;
    }
})
            } catch (error) {
                showError("Error fetching products.");
            }
	}

	function showError(msg) {
		const errorMessage = document.getElementById("errorMessage");
		errorMessage.textContent = msg;
		errorMessage.style.display = "block";
	}

	document.querySelectorAll("input").forEach(input => {
		input.addEventListener("input", () => {
			document.getElementById("errorMessage").style.display = "none";
		});
	});
</script>

</body>


<!-- Mirrored from freshcart-tailwind.codescandy.com/shop-grid-3-column.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 26 Dec 2024 13:19:04 GMT -->
</html>